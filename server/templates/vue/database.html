<div id="view-database" v-cloak>
  <div id="database-sidebar">
    <button class="ui fluid button database tag" v-class="selected: selectedTag === 'all'" v-on="click: selectTag('all', true, null, null, false)">All</button>
    <button class="ui fluid button database tag" v-class="selected: selectedTag === 'drafts'" v-on="click: selectTag('drafts', true, 2, 'completeness', true)">Drafts</button>
    <button class="ui fluid button database tag" v-class="selected: selectedTag === 'finished'" v-on="click: selectTag('finished', true, 2, 'completeness', false)">Finished</button>
    <button class="ui fluid button database tag" v-class="selected: selectedTag === 'favorites'" v-on="click: selectTag('favorites', false, null, null, false)">Favorites</button>
    <button class="ui fluid button database tag" v-class="selected: selectedTag === 'share'" v-on="click: selectTag('share', true, 'share', 'tags', false)">My Sharings</button>
    <button class="ui fluid button database tag" v-class="selected: selectedTag === 'public'" v-on="click: selectTag('public', true, 'public', 'tags', false)">My Publics</button>
    <button class="ui fluid button database tag" v-class="selected: selectedTag === 'task'" v-on="click: selectTag('task', true, 'task', 'tags', false)">Mentioned In TaskHall</button>
  </div>

  <div id="database-main">
    <div id="database-list">
      <p id="database-stats">[[recordsBeingDisplayed.length]] records <a v-on="click: editStatus = !editStatus">Edit</a></p>
      <div id="database-search" class="ui left icon input">
        <input type="text" placeholder="Search..." v-model="searchTerm" debounce="500">
        <i class="search icon"></i>
      </div>
      <div class="database items">
        <button class="ui fluid button database item"
          v-repeat="rec in recordsBeingDisplayed"
          v-class="selected: selectedRecord === rec"
          v-on="click: selectRecord(rec)">
          [[rec.title]]
        </button>
      </div>

    </div>
    <div id="database-detail" v-show="selectedRecord !== null">
      <div id="detail-header">
        <div class="title">[[selectedRecord.title]]</div>
        <div id="detail-completeness" class="detail header meta">
          <div class="text">completeness:</div>
          <div v-repeat="item in ['design', 'modeling', 'experiment']"
               v-show="selectedRecord.completeness >= $index"
               class="completeness [[item]]"
               data-content="[[item | capitalize]]"></div>
        </div>
        <div id="detail-tags" class="detail header meta">
          <div class="text">tags:</div>
          <a class="ui tag label" v-repeat="tag in selectedRecord.tags">[[tag]]</a>
        </div>
      </div>
      <div id="detail-tabs">
        <div class="ui pointing secondary menu">
          <a v-repeat="i in ['Description', 'Graph']"
             class="item"
             v-class="active: selectedTab === $index"
             v-on="click: selectedTab = $index">[[i]]</a>
        </div>
        <div class="ui tab basic segment" v-class="active: selectedTab === 0" id="details-description-tab">[[selectedRecord.description]]</div>
        <div class="ui tab basic segment" v-class="active: selectedTab === 1"></div>
      </div>
    </div>
  </div>

</div>
