<!DOCTYPE html>
<html lang="en">
<head>
{% block head %}
  <meta charset="UTF-8">
  <title>{% block title %}{% endblock %}</title>
  <link rel="stylesheet" href="/static/css/semantic.min.css">
  <link rel="stylesheet" href="/static/css/main_common.css">
{% endblock %}
</head>
<body>
{% block body %}
  <div class="ui page dimmer" id="main-switcher">
    <div class="content">
      <div class="center">
        <a href="/taskhall" class="link">
          <img src="/static/img/common/co-development_circular.png" class="ui image">
          <div class="description">Co-development</div>
        </a>
        <a href="/design" class="link">
          <img src="/static/img/common/design_circular.png" class="ui image">
          <div class="description">Design</div>
        </a>
        <a href="/bank" class="link">
          <img src="/static/img/common/bank_circular.png" class="ui image">
          <div class="description">Bank</div>
        </a>
      </div>
    </div>
  </div>

  <template id="topbar-template">
    <div class="ui secondary menu" id="topbar">
      <div class="ui circular image" id="topbar-avatar">
        <img src="{{current_user.avatar or '/static/img/avatar.jpg'}}" alt="avatar">
        <div class="ui red circular label">[[notifications]]</div>
      </div>
      <div class="ui popup transition hidden" id="topbar-avatar-popup">
        <div class="ui link list">
          <a class="item">Dashboard</a>
          <a class="item">Notifications <div class="ui red circular label">[[notifications]]</div></a>
          <a href="{{url_for('auth.logout')}}" class="item">Log Out</a>
        </div>
      </div>

      <div class="item" id="topbar-index">
        <div class="ui button" id="topbar-btn-index"></div>
      </div>
      <div class="item" id="topbar-menu">
        <div class="ui icon button" id="topbar-btn-menu"><i class="sidebar icon"></i></div>
      </div>
      <content select="div.right.menu"></content>
      <div id="topbar-bottom-line"></div>
    </div>
  </template>

  <component id="main-view" is="[[ currentView ]]" keep-alive></component>

  <script src="/static/js/jquery.min.js"></script>
  <script src="/static/js/semantic.min.js"></script>
  <script src="/static/js/vue.js"></script>
  <script src="/static/js/core_common.js"></script>

{% endblock %}
</body>
</html>
